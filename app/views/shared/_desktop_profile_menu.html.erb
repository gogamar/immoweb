<div class="flex items-center">
  <div class="hidden md:ml-4 md:flex md:flex-shrink-0 md:items-center">
    <!-- Profile dropdown -->
    <%# fix toggle - use alpine.js %>
    <% if user_signed_in? %>
      <div class="relative ml-3" data-controller="dropdown" data-action="click->dropdown#toggle click@window->dropdown#hide">
        <div>
          <button type="button" class="relative flex rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2" id="user-menu-button" aria-expanded="false" aria-haspopup="true" data-dropdown-target="button">
            <span class="absolute -inset-1.5"></span>
            <span class="sr-only"><%= t('open_user_menu') %></span>
            <img class="h-8 w-8 rounded-full" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
          </button>
        </div>
        <div class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button" tabindex="-1"
            data-dropdown-target="menu"
            data-transition-enter="transition ease-out duration-200"
            data-transition-enter-from="opacity-0 translate-y-1"
            data-transition-enter-to="opacity-100 translate-y-0"
            data-transition-leave="transition ease-in duration-150"
            data-transition-leave-from="opacity-100 translate-y-0"
            data-transition-leave-to="opacity-0 translate-y-1"
            >
          <!-- Active: "bg-gray-100", Not Active: "" -->
          <% if user_signed_in? && current_user.admin? %>
            <% if @content %>
              <%= link_to t('edit_content'), edit_content_path(@content), class: "block px-4 py-2 text-sm text-gray-700", role: "menuitem", tabindex: "-1" %>
            <% else %>
              <%= link_to t('add_content'), new_content_path, class: "block px-4 py-2 text-sm text-gray-700", role: "menuitem", tabindex: "-1" %>
            <% end %>
            <%= link_to t('add_service'), new_service_path, class: "block px-4 py-2 text-sm text-gray-700", role: "menuitem", tabindex: "-1" %>
          <% end %>
          <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-0"><%= t('your_profile') %></a>
          <a href="#" class="block px-4 py-2 text-sm text-gray-700" role="menuitem" tabindex="-1" id="user-menu-item-1"><%= t('settings') %></a>
          <%= button_to t('sign_out'), destroy_user_session_path, method: :delete, data: {turbo_method: :delete}, class: "block px-4 py-2 text-sm text-gray-700", role: "menuitem", tabindex: "-1" %>
        </div>
      </div>
    <% else %>
      <div class="relative ml-3">
        <%= link_to t('sign_in'), new_user_session_path, class: "font-semibold text-sky-600 hover:text-cyan-500" %>
      </div>
    <% end %>
  </div>
</div>
