var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var t={};(function(e,r){t?t=r():e.Rellax=r()})("undefined"!==typeof window?window:e,(function(){var Rellax=function(e,t){var r=Object.create(Rellax.prototype);var o=0;var n=0;var a=0;var i=0;var l=[];var s=true;var p=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)};var d=null;var v=false;try{var c=Object.defineProperty({},"passive",{get:function(){v=true}});window.addEventListener("testPassive",null,c);window.removeEventListener("testPassive",null,c)}catch(e){}var u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout;var m=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t=["Webkit","Moz","ms"];for(var r in t)if(void 0!==e.style[t[r]+"Transform"])return t[r]+"Transform"}return"transform"}();r.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:false,wrapper:null,relativeToWrapper:false,round:true,vertical:true,horizontal:false,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}};t&&Object.keys(t).forEach((function(e){r.options[e]=t[e]}));function validateCustomBreakpoints(){if(3===r.options.breakpoints.length&&Array.isArray(r.options.breakpoints)){var e=true;var t=true;var o;r.options.breakpoints.forEach((function(r){"number"!==typeof r&&(t=false);null!==o&&r<o&&(e=false);o=r}));if(e&&t)return}r.options.breakpoints=[576,768,1201];console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}t&&t.breakpoints&&validateCustomBreakpoints();e||(e=".rellax");var f="string"===typeof e?document.querySelectorAll(e):[e];if(f.length>0){r.elems=f;if(r.options.wrapper&&!r.options.wrapper.nodeType){var w=document.querySelector(r.options.wrapper);if(!w){console.warn("Rellax: The wrapper you're trying to use doesn't exist.");return}r.options.wrapper=w}var x;var getCurrentBreakpoint=function(e){var t=r.options.breakpoints;return e<t[0]?"xs":e>=t[0]&&e<t[1]?"sm":e>=t[1]&&e<t[2]?"md":"lg"};var cacheBlocks=function(){for(var e=0;e<r.elems.length;e++){var t=createBlock(r.elems[e]);l.push(t)}};var init=function(){for(var e=0;e<l.length;e++)r.elems[e].style.cssText=l[e].style;l=[];n=window.innerHeight;i=window.innerWidth;x=getCurrentBreakpoint(i);setPosition();cacheBlocks();animate();if(s){window.addEventListener("resize",init);s=false;update()}};var createBlock=function(e){var t=e.getAttribute("data-rellax-percentage");var o=e.getAttribute("data-rellax-speed");var a=e.getAttribute("data-rellax-xs-speed");var l=e.getAttribute("data-rellax-mobile-speed");var s=e.getAttribute("data-rellax-tablet-speed");var p=e.getAttribute("data-rellax-desktop-speed");var d=e.getAttribute("data-rellax-vertical-speed");var v=e.getAttribute("data-rellax-horizontal-speed");var c=e.getAttribute("data-rellax-vertical-scroll-axis");var u=e.getAttribute("data-rellax-horizontal-scroll-axis");var m=e.getAttribute("data-rellax-zindex")||0;var f=e.getAttribute("data-rellax-min");var w=e.getAttribute("data-rellax-max");var h=e.getAttribute("data-rellax-min-x");var g=e.getAttribute("data-rellax-max-x");var b=e.getAttribute("data-rellax-min-y");var y=e.getAttribute("data-rellax-max-y");var A;var z=true;a||l||s||p?A={xs:a,sm:l,md:s,lg:p}:z=false;var T=r.options.wrapper?r.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(r.options.relativeToWrapper){var E=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;T=E-r.options.wrapper.offsetTop}var L=r.options.vertical&&(t||r.options.center)?T:0;var S=r.options.horizontal&&(t||r.options.center)?r.options.wrapper?r.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0;var k=L+e.getBoundingClientRect().top;var Y=e.clientHeight||e.offsetHeight||e.scrollHeight;var O=S+e.getBoundingClientRect().left;var X=e.clientWidth||e.offsetWidth||e.scrollWidth;var R=t||(L-k+n)/(Y+n);var W=t||(S-O+i)/(X+i);if(r.options.center){W=.5;R=.5}var q=z&&null!==A[x]?Number(A[x]):o||r.options.speed;var C=d||r.options.verticalSpeed;var F=v||r.options.horizontalSpeed;var M=c||r.options.verticalScrollAxis;var B=u||r.options.horizontalScrollAxis;var H=updatePosition(W,R,q,C,F);var N=e.style.cssText;var P="";var j=/transform\s*:/i.exec(N);if(j){var D=j.index;var G=N.slice(D);var I=G.indexOf(";");P=I?" "+G.slice(11,I).replace(/\s/g,""):" "+G.slice(11).replace(/\s/g,"")}return{baseX:H.x,baseY:H.y,top:k,left:O,height:Y,width:X,speed:q,verticalSpeed:C,horizontalSpeed:F,verticalScrollAxis:M,horizontalScrollAxis:B,style:N,transform:P,zindex:m,min:f,max:w,minX:h,maxX:g,minY:b,maxY:y}};var setPosition=function(){var e=o;var t=a;o=r.options.wrapper?r.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;a=r.options.wrapper?r.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset;if(r.options.relativeToWrapper){var n=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;o=n-r.options.wrapper.offsetTop}return!(e==o||!r.options.vertical)||!(t==a||!r.options.horizontal)};var updatePosition=function(e,t,o,n,a){var i={};var l=(a||o)*(100*(1-e));var s=(n||o)*(100*(1-t));i.x=r.options.round?Math.round(l):Math.round(100*l)/100;i.y=r.options.round?Math.round(s):Math.round(100*s)/100;return i};var deferredUpdate=function(){window.removeEventListener("resize",deferredUpdate);window.removeEventListener("orientationchange",deferredUpdate);(r.options.wrapper?r.options.wrapper:window).removeEventListener("scroll",deferredUpdate);(r.options.wrapper?r.options.wrapper:document).removeEventListener("touchmove",deferredUpdate);d=p(update)};var update=function(){if(setPosition()&&false===s){animate();d=p(update)}else{d=null;window.addEventListener("resize",deferredUpdate);window.addEventListener("orientationchange",deferredUpdate);(r.options.wrapper?r.options.wrapper:window).addEventListener("scroll",deferredUpdate,!!v&&{passive:true});(r.options.wrapper?r.options.wrapper:document).addEventListener("touchmove",deferredUpdate,!!v&&{passive:true})}};var animate=function(){var e;for(var t=0;t<r.elems.length;t++){var s=l[t].verticalScrollAxis.toLowerCase();var p=l[t].horizontalScrollAxis.toLowerCase();var d=-1!=s.indexOf("x")?o:0;var v=-1!=s.indexOf("y")?o:0;var c=-1!=p.indexOf("x")?a:0;var u=-1!=p.indexOf("y")?a:0;var f=(v+u-l[t].top+n)/(l[t].height+n);var w=(d+c-l[t].left+i)/(l[t].width+i);e=updatePosition(w,f,l[t].speed,l[t].verticalSpeed,l[t].horizontalSpeed);var x=e.y-l[t].baseY;var h=e.x-l[t].baseX;if(null!==l[t].min){r.options.vertical&&!r.options.horizontal&&(x=x<=l[t].min?l[t].min:x);r.options.horizontal&&!r.options.vertical&&(h=h<=l[t].min?l[t].min:h)}null!=l[t].minY&&(x=x<=l[t].minY?l[t].minY:x);null!=l[t].minX&&(h=h<=l[t].minX?l[t].minX:h);if(null!==l[t].max){r.options.vertical&&!r.options.horizontal&&(x=x>=l[t].max?l[t].max:x);r.options.horizontal&&!r.options.vertical&&(h=h>=l[t].max?l[t].max:h)}null!=l[t].maxY&&(x=x>=l[t].maxY?l[t].maxY:x);null!=l[t].maxX&&(h=h>=l[t].maxX?l[t].maxX:h);var g=l[t].zindex;var b="translate3d("+(r.options.horizontal?h:"0")+"px,"+(r.options.vertical?x:"0")+"px,"+g+"px) "+l[t].transform;r.elems[t].style[m]=b}r.options.callback(e)};r.destroy=function(){for(var e=0;e<r.elems.length;e++)r.elems[e].style.cssText=l[e].style;if(!s){window.removeEventListener("resize",init);s=true}u(d);d=null};init();r.refresh=init;return r}console.warn("Rellax: The elements you're trying to select don't exist.")};return Rellax}));var r=t;export default r;

